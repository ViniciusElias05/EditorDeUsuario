{"ast":null,"code":"import axios from 'axios';\nexport default {\n  created() {\n    var req = {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem('token')\n      }\n    };\n    axios.get(\"http://localhost:8686/user\", req).then(res => {\n      console.log(res);\n      this.users = res.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  },\n  data() {\n    return {\n      users: [],\n      showModal: false,\n      deleteUserId: -1\n    };\n  },\n  methods: {\n    hideModal() {\n      this.showModal = false;\n    },\n    showModalUser(id) {\n      this.deleteUserId = id;\n      this.showModal = true;\n    },\n    deleteUser() {\n      var req = {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem('token')\n        }\n      };\n      axios.delete(\"http://localhost:8686/user/\" + this.deleteUserId, req).then(res => {\n        console.log(\"Deletado!\");\n        this.showModal = false;\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  },\n  filters: {\n    processRole: function (value) {\n      if (value == 0) {\n        return \"Usuário Comum\";\n      } else {\n        return \"Admin\";\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","created","req","headers","Authorization","localStorage","getItem","get","then","res","console","log","users","data","catch","err","showModal","deleteUserId","methods","hideModal","showModalUser","id","deleteUser","delete","filters","processRole","value"],"sources":["src/views/Users.vue"],"sourcesContent":["<template>\r\n    <div >\r\n        <h1>Painel ADM</h1>\r\n        <table class=\"table\">\r\n            <thead>\r\n                <tr>\r\n                    <th>Nome</th>\r\n                    <th>E-mail</th>\r\n                    <th>Cargo</th>\r\n                    <th>Ações</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\"user in users\" :key=\"user.id\">\r\n                    <td>{{user.name}}</td>\r\n                    <td>{{user.email}}</td>\r\n                    <td>{{user.role | processRole}}</td>\r\n                    <td><button class=\"button is-success \">Editar</button> <button class=\"button is-danger\" @click=\"showModalUser(user.id)\">Deletar</button></td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n\r\n        <div :class=\"{modal:true, 'is-active': showModal}\">\r\n            <div class=\"modal-background\"></div>\r\n            <div class=\"modal-content\">\r\n                <div class=\"card\">\r\n                    <header class=\"card-header\">\r\n                        <p class=\"card-header-title\">\r\n                         Você quer realmente deletar esse usuário?\r\n                        </p>\r\n                    </header>\r\n                    <div class=\"card-content\">\r\n                        <div class=\"content\">\r\n                            <p>Ao deletar esse registro ele será removido permanentemente do Banco de Dados.\r\n                                Tem certeza disso?\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <footer class=\"card-footer\">\r\n                        <a href=\"#\" class=\"card-footer-item\" @click=\"hideModal()\">Cancelar</a>\r\n                        <a href=\"#\" class=\"card-footer-item\">Sim, quero deletar!</a>\r\n                    </footer>\r\n                    </div>\r\n            </div>\r\n            <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"hideModal()\"></button>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    created(){\r\n        var req = {\r\n            headers:{\r\n                Authorization: \"Bearer \" + localStorage.getItem('token')\r\n            }\r\n        }\r\n        axios.get(\"http://localhost:8686/user\",req).then(res =>{\r\n            console.log(res);\r\n            this.users= res.data;\r\n        }).catch(err =>{\r\n            console.log(err);\r\n        })\r\n    },\r\n    data(){\r\n        return{\r\n            users: [],\r\n            showModal: false,\r\n            deleteUserId: -1\r\n        }\r\n    },\r\n    methods:{\r\n        hideModal(){\r\n            this.showModal = false;\r\n        },\r\n        showModalUser(id){\r\n            this.deleteUserId = id;\r\n            this.showModal = true;\r\n        },\r\n        deleteUser(){\r\n            var req = {\r\n                headers:{\r\n                    Authorization: \"Bearer \" + localStorage.getItem('token')\r\n                }\r\n            }\r\n            axios.delete(\"http://localhost:8686/user/\"+ this.deleteUserId,req).then(res =>{\r\n                console.log(\"Deletado!\");\r\n                this.showModal = false;\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n    },\r\n    filters: {\r\n        processRole: function(value){\r\n            if(value == 0){\r\n                return \"Usuário Comum\"\r\n            }else{\r\n                return \"Admin\"\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAoDA,OAAAA,KAAA;AACA;EACAC,QAAA;IACA,IAAAC,GAAA;MACAC,OAAA;QACAC,aAAA,cAAAC,YAAA,CAAAC,OAAA;MACA;IACA;IACAN,KAAA,CAAAO,GAAA,+BAAAL,GAAA,EAAAM,IAAA,CAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;MACA,KAAAG,KAAA,GAAAH,GAAA,CAAAI,IAAA;IACA,GAAAC,KAAA,CAAAC,GAAA;MACAL,OAAA,CAAAC,GAAA,CAAAI,GAAA;IACA;EACA;EACAF,KAAA;IACA;MACAD,KAAA;MACAI,SAAA;MACAC,YAAA;IACA;EACA;EACAC,OAAA;IACAC,UAAA;MACA,KAAAH,SAAA;IACA;IACAI,cAAAC,EAAA;MACA,KAAAJ,YAAA,GAAAI,EAAA;MACA,KAAAL,SAAA;IACA;IACAM,WAAA;MACA,IAAApB,GAAA;QACAC,OAAA;UACAC,aAAA,cAAAC,YAAA,CAAAC,OAAA;QACA;MACA;MACAN,KAAA,CAAAuB,MAAA,sCAAAN,YAAA,EAAAf,GAAA,EAAAM,IAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA;QACA,KAAAK,SAAA;MACA,GAAAF,KAAA,CAAAC,GAAA;QACAL,OAAA,CAAAC,GAAA,CAAAI,GAAA;MACA;IACA;EACA;EACAS,OAAA;IACAC,WAAA,WAAAA,CAAAC,KAAA;MACA,IAAAA,KAAA;QACA;MACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}